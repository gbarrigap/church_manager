<%= form_with model: @baptism do |form| %>
<div class="form-group">
  <%= form.label :priest, class: 'form-control-label' %>
  <%= form.collection_select :priest_id, Priest.all, :id, :full_name, {}, { class: 'form-control' } %>
</div>

<div class="form-group">
  <%= form.label :date, class: 'form-control-label' %>
  <%= form.date_field :date, class: 'form-control' %>
</div>

<% [:baptised, :mother, :father, :godmother, :godfather].each do |entity| %>
<div class="form-group">
  <%= form.label entity, for: "btn-#{entity}", class: 'form-control-label' %>
  <div class="input-group">
    <label for="btn-<%= entity %>" id="baptism_<%= entity %>" class="form-control"></label>
    <div class="input-group-append">
      <%= form.button 'Edit', type: 'button',
                              id: "btn-#{entity}",
                              class: 'btn btn-secondary',
                              data: { command: 'toggle',
                                      toggle: 'form',
                                      target: "##{entity}_fields" } %>
    </div>
  </div>
</div>
<% end %>

<div class="form-group">
  <%= form.button class: 'btn btn-primary btn-block' %>
</div>
<% end %>
